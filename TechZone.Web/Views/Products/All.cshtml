@using PagedList.Mvc
@model IEnumerable<TechZone.Models.ViewModels.Products.GeneralProductPageViewModel>
@{
    ViewBag.Title = "All";
    int counter = 0;
}

@section styles 
{ 
    <link rel="stylesheet" href="/Content/CustomSiteCss/ProductStyles.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
}

<div class="container">
    @Html.Partial("_SearchPanelPartial")
    @if (Model.Any())
    {
        foreach (var product in Model)
        {
            if (counter%4 == 0)
            {
                @:<div class="row">
            }
            @Html.Partial("_GeneralProductViewPartial", product)
            if (counter%4 == 3 || counter == Model.Count() - 1)
            {
                @:</div>
            }
            counter++;
        }
    }
    else
    {
        <h2>No results. Please try another search!</h2>
    }
</div>
<div class="text-center">
    @Html.PagedListPager((PagedList.IPagedList)Model, page => Url.Action("All", new { page }))
</div>

@section scripts
{
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="/Scripts/CustomScripts/ProductPages.js"></script>
}